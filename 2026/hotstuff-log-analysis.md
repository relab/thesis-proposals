# Bachelor: Structured Log Analyzer for HotStuff

## Administrative

- Supervisor: Hein Meling
- Group Composition: 1-3 students (the scope can be adjusted based to the number of students)
- Bachelor thesis

## Prerequisites

- Familiarity with Operating Systems, Systems Programming, and Databases is recommended
- Willingness to learn about Distributed Systems
- Proficiency or strong willingness to learn the Go programming language
- Proficiency in use of AI tools (e.g., ChatGPT, GitHub Copilot)

### AI Tools

You are expected to use AI tools in this project.
However, you are responsible for the correctness and quality of the code and the report.
Verify AI-generated code and statements with tests, measurements, and appropriate citations in the report.
Be prepared to explain and justify design decisions and any non-trivial generated code during code reviews.
Inaccuracies, misleading content, or design and stylistic similarities that indicate significant reliance on AI without critical review may negatively affect the grade.
Briefly document significant AI assistance (usage log and citations) to make provenance clear.

## Background and Motivation

Byzantine fault-tolerant (BFT) protocols are used to replicate arbitrary applications on multiple servers, called replicas, while tolerating arbitrary failures or even attacks from a subset of the replicas.
HotStuff is a popular BFT state machine replication protocol designed for permissioned blockchains.

The Relab research group has implemented a modular and extensible [hotstuff framework][3] to design, implement, and analyze BFT protocols.
Currently, the framework supports several variants of the [HotStuff protocol][4], such as Chained HotStuff, Fast HotStuff, and Simple HotStuff.
We have also developed a test suite based on the [Twins approach][5].
Along with the test suite, we have developed a deployment tool to test the implementation on various configurations.

## Project Description

The goal of this project is to develop a log analyzer for the HotStuff BFT protocol.
The log analyzer will help developers debug and understand the behavior of the protocol by providing insights into the execution of the protocol, including message exchanges, state transitions, and performance metrics.
The existing HotStuff framework supports logging capabilities and collecting the logs, but there is currently no dedicated tool for analyzing and visualizing these logs.

### Objectives

1. **Literature Review**: Study existing log analysis tools and techniques used in distributed systems and BFT protocols.
   Understand the requirements for analyzing logs generated by the HotStuff protocol.
   Study Go tools and libraries for logging (Uber Zap and Go's slog), debugging, log analysis, benchmarking, and visualization.

2. **Structured Logging**: Revisit the existing logging framework to ensure that logs are structured and analyzable.
   This includes logging all relevant events, such as proposal submissions, votes, and state changes.
   The logs should be structured and include timestamps, replica IDs, and other relevant metadata.

3. **Log Analysis**: Develop tools to analyze the collected logs. This includes:
   - Visualizing the execution flow of the protocol
   - Identifying bottlenecks and performance issues
   - Analyzing the impact of different configurations on protocol performance
   - Automated comparison of logs from different runs to identify regressions or improvements
   - Diff: Visualize the difference between two log files, highlighting changes in protocol behavior and performance metrics
   - Diff: Should be able to selectively filter which events, replicas, and parts of the log to include in the diff (e.g., only view proposal and vote messages, or only view logs from a specific replica, only view logs from a specific time range)
   - Technologies: Consider using existing log analysis and visualization tools (e.g., OpenTelemetry, Grafana, Prometheus) or develop custom tools using Go libraries.
   - Output: The log analyzer should produce human-readable reports and visualizations that help developers understand the protocol's behavior.

### Optional Objectives

1. **Integration with Testing Framework**:
   Integrate the log analyzer with the existing testing framework to automatically collect and analyze logs during testing.
   This will help identify issues early in the development process.

[3]: https://github.com/relab/hotstuff
[4]: https://arxiv.org/abs/1803.05069
[5]: https://malkhi.com/posts/2020/04/making-BFT-systems-robust/
